logging:
  level: INFO
  json_output: true
  service: brain
  environment: dev

components:
  substrate_postgres:
    url: postgresql+psycopg://brain:brain@postgres:5432/brain
    pool_size: 5
    max_overflow: 10
    pool_timeout_seconds: 30.0
    pool_pre_ping: true
    connect_timeout_seconds: 10.0
    sslmode: prefer
  substrate_qdrant:
    url: http://qdrant:6333
    request_timeout_seconds: 10.0
    distance_metric: cosine
  substrate_redis:
    url: redis://redis:6379/0
    host: redis
    port: 6379
    db: 0
    username: ""
    password: ""
    password_env: ""
    ssl: false
    connect_timeout_seconds: 5.0
    socket_timeout_seconds: 5.0
    max_connections: 20
  adapter_litellm:
    timeout_seconds: 30.0
    max_retries: 2
    providers:
      ollama:
        api_base: http://localhost:11434
      openai:
        api_key_env: OPENAI_API_KEY
  adapter_obsidian:
    base_url: http://127.0.0.1:27124
    api_key: ""
    timeout_seconds: 10.0
    max_retries: 2
  service_embedding_authority:
    max_list_limit: 500
  service_cache_authority:
    key_prefix: brain
    default_ttl_seconds: 300
    allow_non_expiring_keys: true
  service_vault_authority:
    max_list_limit: 500
    max_search_limit: 200
  service_language_model:
    embedding:
      provider: ollama
      model: mxbai-embed-large
    chat_default:
      provider: ollama
      model: gpt-oss
    chat_advanced:
      provider: ""
      model: ""

observability:
  public_api:
    otel:
      meter_name: brain.public_api
      tracer_name: brain.public_api
      metric_public_api_calls_total: brain_public_api_calls_total
      metric_public_api_duration_ms: brain_public_api_duration_ms
      metric_public_api_errors_total: brain_public_api_errors_total
      metric_instrumentation_failures_total: brain_public_api_instrumentation_failures_total
      metric_qdrant_ops_total: brain_qdrant_ops_total
      metric_qdrant_op_duration_ms: brain_qdrant_op_duration_ms
